:root {
  --bg-0: #0f0a0a;
  --bg-1: #1a0f0f;
  --text: #f5f5dc;
  --muted: #d4af37;
  --primary: #e0be73;
  --primary-600: #b91c1c;
  --accent: #fbbf24;
  --gold: #ffd700;
  --red: #dc2626;
  --card: rgba(26, 15, 15, 0.9);
  --glass: rgba(26, 15, 15, 0.6);
  --radius: 18px;
  --shadow: 0 10px 30px rgba(220, 38, 38, 0.3);
}

/* ===== База ===== */
* { box-sizing: border-box; }
html, body { height: 100%; font-family: "igra"; }
html { scroll-behavior: smooth; }

body {
  margin: 0;
  font-size: 16px;
  color: var(--text);
  background:
    radial-gradient(1200px 800px at 15% 20%, var(--primary) 0%, transparent 60%),
    radial-gradient(900px 700px at 85% 10%, var(--gold) 0%, transparent 55%),
    radial-gradient(900px 600px at 50% 100%, var(--red) 0%, transparent 55%),
    linear-gradient(180deg, var(--bg-0), var(--bg-1));
  background-attachment: fixed;
  overflow-x: hidden;
}
body.pl-lock { overflow: hidden; }

a { color: inherit; text-decoration: none; }
img { max-width: 100%; display: block; }

/* ===== Навигация ===== */
nav#navbar{
  position: fixed; top: 0; left: 0; width: 100%;
  padding: 16px 24px;
  background: rgba(102, 14, 14, 0.95);
  backdrop-filter: blur(18px);
  z-index: 1000;
  transition: all 0.25s ease;
}
nav#navbar.scrolled{ padding:10px 24px; box-shadow: 0 8px 30px rgba(220,38,38,.3); }

.nav-container{
  max-width: 1200px; margin: 0 auto;
  display:flex; align-items:center; justify-content:space-between; gap:16px;
}
.logo{ display:inline-flex; align-items:center; gap:10px; text-decoration:none; }
.logo img{ width:36px; height:36px; border-radius:10px; transition: transform .25s ease; }
.logo-text{ font-size:20px; font-weight:800; color:var(--gold); }

.nav-links{
  display:flex; gap:28px; list-style:none; margin:0; padding:0; align-items:center;
}
.nav-links a{
  color:var(--text); font-weight:600; position:relative; transition: color .2s ease;
}
.nav-links a::after{
  content:""; position:absolute; left:0; bottom:-6px; height:2px; width:0;
  background:var(--gold); transition: width .25s ease;
}
.nav-links a:hover::after{ width:100%; }

.mobile-menu-toggle{
  display:none; position:relative; width:42px; height:42px;
  border:1px solid rgba(255,255,255,.2); border-radius:12px;
  background:rgba(255,255,255,.1); cursor:pointer;
}
.mobile-menu-toggle span{
  position:absolute; left:10px; right:10px; height:2px; background:var(--text);
  transition: all .2s ease;
}
.mobile-menu-toggle span:nth-child(1){ top:12px; }
.mobile-menu-toggle span:nth-child(2){ top:20px; }
.mobile-menu-toggle span:nth-child(3){ top:28px; }

@media (max-width: 960px){
  .mobile-menu-toggle{ display:flex; align-items:center; justify-content:center; }
  .nav-links{
    position:fixed; top:64px; left:16px; right:16px;
    display:grid; gap:10px; padding:12px; border-radius:14px;
    background:var(--card); backdrop-filter: blur(18px);
    border:1px solid rgba(255,255,255,.1);
    transform: scale(.98) translateY(-8px); opacity:0; pointer-events:none;
    transition:.2s ease; z-index:1100;
  }
  nav#navbar.open .nav-links{ transform:none; opacity:1; pointer-events:auto; }
}

/* ===== Hero ===== */
.hero{
  position:relative; min-height:100vh; display:flex; align-items:center; overflow:hidden;
}
.tile{ position:absolute; inset:0; background:#000; overflow:hidden; }
.tile__img{
  position:absolute; inset:0; width:100%; height:100%; object-fit:cover; z-index:0;
}
.tile__img--first{ opacity:1; }
.tile__img--last{ opacity:0; }

.title{
  position:absolute; top:50%; left:10%; transform:translateY(-50%);
  color:#fff; font-size:clamp(2.0rem, 4vw, 3.4rem); font-weight:700; line-height:1.3;
  text-shadow:3px 3px 10px rgb(0,0,0); letter-spacing:-.02rem; z-index:1; max-width:70%;
}
.title__container{ position:relative; }
.title__text{ position:relative; }
.title__text--last{ position:absolute; top:0; left:0; opacity:0; }

/* === Next-tile: всегда снизу справа === */
.hero { position: relative; }

.hero .next-tile{
  position: absolute;
  right: clamp(12px, 3vw, 28px);
  bottom: clamp(12px, 3vw, 28px);
  top: auto; left: auto;
  transform: none;
  z-index: 10;
  display: flex;
  gap: 12px;
  max-width: min(92vw, 560px);
  background: transparent;
  border: 0;
  padding: 0;
  cursor: pointer;
  box-shadow: 0 12px 28px rgba(0,0,0,.35);
}

.hero .next-tile__details{
  width: clamp(240px, 28vw, 380px);
  min-height: 72px;
  height: auto;
  padding: clamp(10px, 1.3vw, 16px) clamp(12px, 2vw, 20px);
  background: rgba(255,255,255,.94);
  backdrop-filter: blur(10px);
  border-radius: 14px;
  display:flex; flex-direction:column; justify-content:flex-end;
  box-shadow: 0 10px 30px rgba(0,0,0,.3);
}
.hero .next-tile__heading{ margin: 0 0 .6rem; text-transform:uppercase; color:#666; font-weight:600; font-size:.9rem; }
.hero .next-tile__title{ font-size: 1.05rem; line-height: 1.25; margin: 0 0 .6rem; color:#222; position:relative; }
.hero .next-tile__title__text{ position:relative; }
.hero .next-tile__title__text--last{ position:absolute; top:0; left:0; opacity:0; }
.hero .next-tile__arrow{ fill:#666; width:2rem; }

.hero .next-tile__preview{
  width: clamp(150px, 20vw, 240px);
  height: 72px;
  border-radius: 14px;
  overflow: hidden;
  background: #421f1fbe;
  position: relative;
}
.hero .next-tile__preview__img{
  position:absolute; top:50%; right:0; transform:translateY(-50%);
  width:100%; height:100%; object-fit:cover;
}
.hero .next-tile__preview__img--last{ opacity:0; transform: translateY(-50%) scale(1.6); }

/* ≤420px — ещё ниже и компактнее */
@media (max-width: 420px){
  .hero .next-tile{ right: 12px; bottom: 12px; gap: 8px; }
  .hero .next-tile__heading{ display: none; }
  .hero .next-tile__title{ font-size: .92rem; margin: 0 0 .35rem; }
  .hero .next-tile__details{
    width: min(62vw, 260px);
    min-height: 60px;
    padding: 8px 10px;
    border-radius: 12px;
  }
  .hero .next-tile__preview{
    width: min(30vw, 120px);
    height: 60px;
    border-radius: 12px;
  }
  .hero .next-tile__arrow{ width: 1rem; }
}

/* ===== Общие секции ===== */
.section{ min-height:100vh; padding:80px 0; position:relative; }
.container{ width:min(1200px, 92vw); margin:0 auto; }
.kicker{ color:var(--gold); font-weight:800; letter-spacing:.12em; text-transform:uppercase; font-size:12px; }
.h2{ font-size:clamp(22px, 3vw, 40px); line-height:1.12; margin:8px 0; font-weight:900; color:var(--text); }
.muted{ color:var(--muted); }
.card{
  background:var(--card); border:1px solid rgba(255,215,0,.2); border-radius:var(--radius);
  box-shadow:var(--shadow); padding:24px; backdrop-filter: blur(10px);
}
.grid-3{ display:grid; grid-template-columns:repeat(3,1fr); gap:20px; margin-top:24px; }

@media (max-width: 960px){
  .grid-3{ grid-template-columns:1fr; }
}

/* ===== Параллакс ===== */
.parallax-section{ position:relative; min-height:120vh; overflow:hidden; }
.parallax-bg{
  position:absolute; top:-20%; left:0; width:100%; height:140%;
  background-size:cover; background-position:center; background-attachment:fixed; z-index:-1;
}
.parallax-content{ position:relative; padding:100px 0; background:rgba(0,0,0,.7); backdrop-filter: blur(2px); }

.columns{ display:grid; grid-template-columns:1fr 1fr; gap:60px; align-items:start; }
.column{
  background:var(--card); padding:40px; border-radius:var(--radius);
  border:1px solid rgba(255,215,0,.3); backdrop-filter: blur(15px);
}
.column h3{ color:var(--gold); font-size:1.8rem; margin-bottom:20px; font-weight:700; }
.column p{ line-height:1.7; margin-bottom:16px; }

@media (max-width: 960px){
  .columns{ grid-template-columns:1fr; gap:30px; }
  .parallax-bg{ background-attachment:scroll; }
}

/* ===== Анимации появления ===== */
.reveal{ opacity:0; transform:translateY(30px); transition:all .8s ease; }
.reveal.in-view{ opacity:1; transform:translateY(0); }

/* ===== Футер ===== */
footer{ padding:60px 20px; background: linear-gradient(135deg, var(--bg-1), var(--primary)); color:var(--text); text-align:center; }
.footer-content{ max-width:800px; margin:0 auto; }
.footer-content p{ margin:10px 0; }

/* ===== Свайпер ===== */
.parade-slider{ margin:60px 0; }
.swiper-slide{ display:flex; justify-content:center; }
.ps-card{
  background:var(--card); border-radius:var(--radius); overflow:hidden;
  border:1px solid rgba(255,215,0,.2); max-width:400px; backdrop-filter: blur(10px);
}
.ps-card img{ width:100%; height:250px; object-fit:cover; }
.ps-card figcaption{ padding:20px; }
.ps-kicker{ color:var(--gold); font-size:.8rem; text-transform:uppercase; font-weight:600; margin-bottom:8px; }
.ps-card h3{ color:var(--text); margin:8px 0; font-size:1.3rem; }
.ps-card p{ color:var(--muted); font-size:.9rem; line-height:1.5; }
.swiper-pagination-bullet{ background:var(--gold); }
.swiper-button-next, .swiper-button-prev{ color:var(--gold); }

/* ===== Кнопка «вверх» ===== */
.to-top{
  position: fixed; right:18px; bottom:18px; width:56px; height:56px;
  border:0; border-radius:16px;
  background: radial-gradient(120% 120% at 20% 20%, rgba(255,255,255,.18), transparent 60%),
              linear-gradient(135deg, var(--primary), var(--accent));
  color:#fff; box-shadow:0 12px 30px rgba(0,0,0,.25);
  display:grid; place-items:center; cursor:pointer; z-index:1100;
  opacity:0; transform: translateY(8px) scale(.96);
  pointer-events:none; transition: opacity .25s ease, transform .25s ease, box-shadow .25s ease;
}
.to-top .arrow{ width:22px; height:22px; fill:currentColor; filter: drop-shadow(0 1px 2px rgba(0,0,0,.3)); }
.to-top .ring{ position:absolute; inset:0; }
.to-top .ring .bg{ fill:none; stroke:rgba(255,255,255,.22); stroke-width:3; }
.to-top .ring .fg{
  fill:none; stroke:#fff; stroke-width:3; stroke-linecap:round;
  stroke-dasharray:119; stroke-dashoffset:119; transform: rotate(-90deg); transform-origin:50% 50%; opacity:.9;
}
.to-top:hover{ transform: translateY(0) scale(1.02); box-shadow:0 16px 36px rgba(0,0,0,.32); }
.to-top:focus-visible{ outline:3px solid rgba(255,255,255,.5); outline-offset:2px; }
.to-top.show{ opacity:1; transform: translateY(0) scale(1); pointer-events:auto; }
@media (max-width:960px){ nav#navbar.open ~ .to-top{ opacity:0; pointer-events:none; } }
@media (prefers-reduced-motion: reduce){ .to-top{ transition:none; } }

/* ===== Фейдер фонов (ssbg) ===== */
.ssbg{
  position:relative; width:100%;
  border-radius:var(--radius); overflow:hidden;
  border:1px solid rgba(255,215,0,.18); box-shadow:var(--shadow); background:#000;
}
@media (max-width:960px){ .ssbg{ aspect-ratio:16/9; } }
.ssbg__slide{
  position:absolute; inset:0; background-position:center; background-size:cover; background-repeat:no-repeat;
  background-image: var(--img); opacity:0; transition: opacity .9s ease;
}
.ssbg__slide:first-child{ opacity:1; }
.ssbg__slide.is-active{ opacity:1; }
.ssbg::after{
  content:""; position:absolute; inset:0;
  background: radial-gradient(120% 120% at 20% 20%, rgba(0,0,0,.15), transparent 60%);
  pointer-events:none;
}
@media (prefers-reduced-motion: reduce){ .ssbg__slide{ transition:none; } }

/* ===== Прелоадер ===== */
.preloader{
  position: fixed; inset: 0; z-index: 9999;
  display: grid; place-items: center;
  background:
    radial-gradient(1200px 800px at 15% 20%, var(--primary, #e0be73) 0%, transparent 60%),
    radial-gradient(900px 700px at 85% 10%, var(--gold, #ffd700) 0%, transparent 55%),
    radial-gradient(900px 600px at 50% 100%, var(--red, #dc2626) 0%, transparent 55%),
    linear-gradient(180deg, var(--bg-0, #0f0a0a), var(--bg-1, #1a0f0f));
  backdrop-filter: blur(2px);
  transition: opacity .5s ease, visibility .5s ease, transform .5s ease;
}
.preloader__inner{
  padding:22px 26px; border-radius:20px; background:rgba(0,0,0,.35);
  border:1px solid rgba(255,255,255,.12);
  box-shadow: 0 18px 50px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.06);
  display:grid; gap:14px; justify-items:center;
}
.preloader__logo{
  width: clamp(100px, 26vw, 180px); height:auto; display:block;
  filter: drop-shadow(0 6px 18px rgba(0,0,0,.35));
  animation: pl-pulse 1.2s ease-in-out infinite;
}
@keyframes pl-pulse{ 50%{ transform: scale(1.04); } }
@media (prefers-reduced-motion: reduce){ .preloader__logo{ animation:none; } }

.preloader__bar{
  width:min(60vw, 320px); height:10px; border-radius:999px;
  background:rgba(255,255,255,.18); box-shadow: inset 0 0 0 1px rgba(255,255,255,.1); overflow:hidden;
}
.preloader__bar > span{
  display:block; height:100%; width:30%;
  background: linear-gradient(90deg, var(--gold, #ffd700), var(--accent, #fbbf24));
  box-shadow: inset 0 2px 6px rgba(0,0,0,.25); border-radius:inherit;
  animation: pl-indeterminate 1.4s ease-in-out infinite;
}
@keyframes pl-indeterminate{
  0%{ transform: translateX(-120%); }
  50%{ transform: translateX(20%); }
  100%{ transform: translateX(120%); }
}
.preloader--hide{ opacity:0; visibility:hidden; transform: scale(1.02); }


/* Мобильные карточки: фото выше и шире */
@media (max-width: 640px){
  /* карточка пусть может занимать почти всю ширину вьюпорта */
  .parade-slider .swiper-slide{
    /* Swiper поставит ширину сам (slidesPerView≈1),
       но уберём лишние внутренние отступы контейнера, если есть */
    padding-inline: 0;
  }

  .ps-card{
    width: min(92vw, 520px);
    max-width: none;
    border-radius: 18px;
  }

  .ps-card img{
    /* было 250px — делаем заметно выше */
    height: clamp(300px, 48vh, 460px);
    object-fit: cover;
  }

  .ps-card figcaption{
    padding: 16px;
  }
}

/* Очень узкие телефоны — ещё немного высоты */
@media (max-width: 420px){
  .ps-card img{
    height: clamp(320px, 54vh, 520px);
  }
}
